<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8" />
  <title>Chat Webhook</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/preline/dist/preline.js"></script>
  <style>
    /* Top loading bar */
    #loading-bar {
      position: fixed;
      top: 0;
      left: 0;
      height: 3px;
      background-color: red;
      width: 0%;
      transition: width 0.3s ease;
      z-index: 50;
    }

    /* Shimmer effect for loading text */
    .shimmer {
      background: linear-gradient(90deg, #333 25%, #555 50%, #333 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      color: transparent;
      background-clip: text;
      -webkit-background-clip: text;
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    /* Toast animations */
    .toast {
      transform: translateX(100%);
      opacity: 0;
      transition: all 0.5s ease;
    }
    .toast.show {
      transform: translateX(0);
      opacity: 1;
    }
  </style>
</head>
<body class="dark bg-gray-900 text-white min-h-screen flex flex-col items-center justify-center">

  <!-- Loading bar -->
  <div id="loading-bar"></div>

  <!-- Splash Screen -->
  <div id="splash" class="fixed inset-0 flex items-center justify-center bg-gray-900 z-40">
    <h1 id="splash-text" class="text-4xl font-bold shimmer">Loading...</h1>
  </div>

  <!-- Main App -->
  <div id="app" class="hidden w-full max-w-2xl p-6">
    <h1 class="text-3xl font-bold mb-4">Chat Webhook</h1>

    <!-- Nav -->
    <div class="flex space-x-4 mb-6">
      <button onclick="switchPage('manage')" class="px-4 py-2 bg-gray-700 rounded">Manage Webhooks</button>
      <button onclick="switchPage('send')" class="px-4 py-2 bg-gray-700 rounded">Send Message</button>
    </div>

    <!-- Manage Webhooks -->
    <div id="manage" class="hidden">
      <h2 class="text-xl mb-2">Webhook Manager</h2>
      <input id="webhook-url" type="text" placeholder="Enter webhook URL" class="w-full p-2 mb-2 bg-gray-800 rounded" />
      <button onclick="addWebhook()" class="px-4 py-2 bg-blue-600 rounded">Add Webhook</button>
      <ul id="webhook-list" class="mt-4 space-y-2"></ul>
    </div>

    <!-- Send Message -->
    <div id="send" class="hidden">
      <h2 class="text-xl mb-2">Send Message</h2>
      <select id="webhook-select" class="w-full p-2 mb-2 bg-gray-800 rounded"></select>
      <textarea id="message-input" placeholder="Enter your message" class="w-full p-2 bg-gray-800 rounded mb-2"></textarea>
      <button onclick="sendMessage()" class="px-4 py-2 bg-green-600 rounded">Send</button>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toast-container" class="fixed bottom-4 right-4 space-y-2 z-50"></div>

<script>
  // Splash + Loading Bar
  window.onload = () => {
    const bar = document.getElementById("loading-bar");
    const splash = document.getElementById("splash");
    const splashText = document.getElementById("splash-text");
    let width = 0;
    const interval = setInterval(() => {
      width += 10;
      bar.style.width = width + "%";
      if (width >= 100) {
        clearInterval(interval);
        setTimeout(() => {
          splash.remove();
          document.getElementById("app").classList.remove("hidden");
          bar.style.width = "0"; // reset
          showToast("⚠️ Auth system disabled", "yellow");
        }, 500);
      }
    }, 150);
  };

  // Page switching
  function switchPage(id) {
    document.querySelectorAll("#app > div").forEach(el => {
      if (el.id !== "" && el.id !== "app") el.classList.add("hidden");
    });
    document.getElementById(id).classList.remove("hidden");
  }

  // Webhook manager
  let webhooks = [];
  function addWebhook() {
    const url = document.getElementById("webhook-url").value.trim();
    if (!url) return;
    webhooks.push(url);

    const li = document.createElement("li");
    li.textContent = url;
    li.className = "bg-gray-800 p-2 rounded";
    document.getElementById("webhook-list").appendChild(li);

    const opt = document.createElement("option");
    opt.value = url;
    opt.textContent = url;
    document.getElementById("webhook-select").appendChild(opt);

    document.getElementById("webhook-url").value = "";
    showToast("✅ Webhook added", "green");
  }

  // Message sender
  function sendMessage() {
    const webhook = document.getElementById("webhook-select").value;
    const message = document.getElementById("message-input").value;
    if (!webhook || !message) return showToast("⚠️ Select webhook and enter message", "yellow");

    showToast("✅ Message sent (simulation)", "green");
    document.getElementById("message-input").value = "";
  }

  // Toast system
  function showToast(msg, color) {
    const container = document.getElementById("toast-container");
    const toast = document.createElement("div");
    toast.className = `toast bg-${color}-600 text-white px-4 py-2 rounded shadow`;
    toast.innerHTML = msg;
    container.appendChild(toast);

    setTimeout(() => toast.classList.add("show"), 10);

    setTimeout(() => {
      toast.classList.remove("show");
      setTimeout(() => toast.remove(), 500);
    }, 3000);
  }
</script>
</body>
</html>
