<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat Webhook</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: #111; color: white; }
    .page { display: none; }
    .active { display: block; }

    /* Loading bar */
    #loadingBar {
      position: fixed;
      top: 0;
      left: 0;
      height: 4px;
      background: red;
      width: 0%;
      transition: width 1.5s ease;
      z-index: 50;
    }

    /* Toast container */
    #toast-container {
      position: fixed;
      bottom: 1rem;
      right: 1rem;
      display: flex;
      flex-direction: column-reverse;
      gap: 0.5rem;
      z-index: 100;
    }

    .toast {
      min-width: 220px;
      padding: 0.75rem 1rem;
      border-radius: 0.5rem;
      color: white;
      font-weight: 500;
      opacity: 0;
      transform: translateX(120%);
      animation: slideIn 0.4s forwards;
    }

    @keyframes slideIn {
      to { transform: translateX(0); opacity: 1; }
    }
  </style>
</head>
<body class="p-6">

  <!-- Loading bar -->
  <div id="loadingBar"></div>

  <!-- Navigation -->
  <nav class="flex space-x-4 mb-6">
    <button onclick="switchPage('webhooks')" class="bg-gray-700 px-4 py-2 rounded">Webhooks</button>
    <button onclick="switchPage('send')" class="bg-gray-700 px-4 py-2 rounded">Send Message</button>
  </nav>

  <!-- Pages -->
  <div id="webhooks" class="page active">
    <h1 class="text-2xl mb-4">Webhook Manager</h1>
    <div id="webhookLoader" class="bg-gray-800 p-4 rounded">Loading webhooks...</div>
    <div id="webhookList" class="hidden space-y-2 mt-4"></div>
  </div>

  <div id="send" class="page">
    <h1 class="text-2xl mb-4">Send a Message</h1>
    <form onsubmit="sendMessage(event)" class="space-y-3">
      <input id="msgInput" class="w-full p-2 rounded bg-gray-800 text-white" placeholder="Enter message">
      <button class="bg-blue-600 px-4 py-2 rounded">Send</button>
    </form>
  </div>

  <!-- Toasts -->
  <div id="toast-container"></div>

  <script>
    // Switch Pages
    function switchPage(id) {
      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // Show Toast
    function showToast(message, type="info") {
      const colors = {
        success: "bg-green-600",
        error: "bg-red-600",
        warning: "bg-orange-500",
        info: "bg-blue-600"
      };

      const toast = document.createElement("div");
      toast.className = `toast ${colors[type]}`;
      toast.innerHTML = `<div class="flex items-center">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round"
             d="${type==='success' ? 'M5 13l4 4L19 7' :
                type==='error' ? 'M6 18L18 6M6 6l12 12' :
                type==='warning' ? 'M12 9v2m0 4h.01M12 5a7 7 0 110 14a7 7 0 010-14z' :
                'M13 16h-1v-4h-1m1-4h.01'}"></path></svg>
        ${message}</div>`;
      document.getElementById("toast-container").appendChild(toast);

      setTimeout(() => { toast.remove(); }, 4000);
    }

    // Fake webhook loading
    window.onload = () => {
      const bar = document.getElementById("loadingBar");
      bar.style.width = "100%";
      setTimeout(() => {
        document.getElementById("webhookLoader").classList.add("hidden");
        const list = document.getElementById("webhookList");
        list.classList.remove("hidden");
        list.innerHTML = `
          <div class="bg-gray-700 p-2 rounded">Webhook 1 - <input class="bg-gray-900 rounded px-2" value="https://example.com/1"></div>
          <div class="bg-gray-700 p-2 rounded">Webhook 2 - <input class="bg-gray-900 rounded px-2" value="https://example.com/2"></div>
        `;
        showToast("Auth system inactive", "warning");
      }, 2000);
    };

    // Send message
    function sendMessage(e) {
      e.preventDefault();
      const msg = document.getElementById("msgInput").value;
      if (!msg) return showToast("Please enter a message", "error");
      showToast("Message sent: " + msg, "success");
      document.getElementById("msgInput").value = "";
    }
  </script>
</body>
</html>
