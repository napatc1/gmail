<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webhook Sender</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- FlyonUI CSS -->
  <link href="https://cdn.jsdelivr.net/npm/flyonui@1.0.0/dist/flyon.min.css" rel="stylesheet">
  <style>
    @keyframes slideIn {
      from { opacity: 0; transform: translateX(20px) translateY(20px) scale(0.95); }
      to { opacity: 1; transform: translateX(0) translateY(0) scale(1); }
    }
    @keyframes slideOut {
      to { opacity: 0; transform: translateX(20px) translateY(10px) scale(0.97); }
    }
    @keyframes shrinkBar {
      from { transform: scaleX(1); }
      to { transform: scaleX(0); }
    }
    .alert-enter { animation: slideIn 0.3s ease-out forwards; }
    .alert-exit { animation: slideOut 0.3s ease-in forwards; }
    .bar { animation: shrinkBar linear forwards; transform-origin: left; }
  </style>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">
  <div class="bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-lg text-center">
    <h1 class="text-2xl font-bold mb-6">Send Message to Webhook</h1>

    <label class="block mb-4 text-left">
      <span class="text-gray-300">Webhook URL:</span>
      <input type="text" id="webhookUrl" placeholder="Enter webhook URL here"
        class="input input-bordered w-full mt-1 bg-gray-700 border-gray-600 text-white">
    </label>

    <label class="block mb-6 text-left">
      <span class="text-gray-300">Message:</span>
      <textarea id="message" rows="4" placeholder="Enter your message"
        class="textarea textarea-bordered w-full mt-1 bg-gray-700 border-gray-600 text-white"></textarea>
    </label>

    <button onclick="showAlert('error','Google api is under maintenance')" class="btn btn-primary w-full">Send</button>
    <p id="status" class="mt-4 text-sm text-gray-300"></p>
  </div>

  <script>


    
  <script>
  // Alert System - Single Function
  (function(){
    // Create alert container
    const stack = document.createElement("div");
    stack.id = "alert-stack";
    stack.className = "fixed bottom-6 right-6 w-full max-w-sm flex flex-col gap-3 z-50 items-end";
    document.body.appendChild(stack);

    // Expose showAlert globally
    window.showAlert = function(type, message, duration = 4000) {
      const icons = {
        success: `<svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>`,
        error: `<svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>`,
        warning: `<svg class="w-6 h-6 text-yellow-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01M5.07 19h13.86L12 5 5.07 19z"/></svg>`
      };

      const colors = {
        success: "border-green-500",
        error: "border-red-500",
        warning: "border-yellow-500"
      };

      const barColors = {
        success: "bg-green-500",
        error: "bg-red-500",
        warning: "bg-yellow-500"
      };

      const alert = document.createElement("div");
      alert.className = `alert-enter relative flex items-start gap-3 p-4 rounded-lg bg-gray-800 text-white shadow-lg border-l-4 ${colors[type]} w-full`;
      alert.innerHTML = `
        <div class="icon shrink-0">${icons[type]}</div>
        <div class="flex-1">
          <p class="font-semibold capitalize">${type}</p>
          <p class="text-sm opacity-90">${message}</p>
        </div>
        <button class="ml-2 text-gray-400 hover:text-white" onclick="closeAlert(this.parentElement)">✕</button>
        <div class="bar absolute bottom-0 left-0 h-1 ${barColors[type]}" style="animation-duration:${duration}ms"></div>
      `;

      stack.prepend(alert);
      setTimeout(() => closeAlert(alert), duration);
    }

    // Helper to close alerts
    window.closeAlert = function(alert) {
      alert.classList.remove("alert-enter");
      alert.classList.add("alert-exit");
      alert.addEventListener("animationend", () => alert.remove());
    }
  })();

    async function sendMessage() {
      const url = document.getElementById('webhookUrl').value.trim();
      const msg = document.getElementById('message').value.trim();
      const status = document.getElementById('status');
      status.textContent = '';

      if (!url) {
        status.textContent = 'Please enter a webhook URL.';
        return;
      }
      if (!msg) {
        status.textContent = 'Please enter a message.';
        return;
      }

      try {
        const response = await fetch(url, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ text: msg })
        });

        if (response.ok) {
          status.textContent = '✅ Message sent successfully!';
        } else {
          status.textContent = `❌ Failed to send message. Status: ${response.status}`;
        }
      } catch (error) {
        status.textContent = `⚠️ Error: ${error.message}`;
      }
    }
  </script>
</body>
</html>
